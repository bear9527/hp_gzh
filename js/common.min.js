"use strict";

function _defineProperty(t, e, n) {
    return e in t ? Object.defineProperty(t, e, {
        value: n,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : t[e] = n, t
}

function _classCallCheck(t, e) {
    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
}

function showTitle(t) {
    showCopyright(t)
}

function showCopyright(t) {
    $(window).click(function() {
        $(".footer3").removeAttr("style");
        var e = new Date,
            n = e.getFullYear(),
            i = "金蝶医疗软件科技有限公司";
        void 0 !== t && void 0 !== t.hospitalShortName && (i = t.hospitalShortName + " 金蝶医疗"), $(".footer3").html("Copyright © 1993-" + n + " " + i), document.documentElement.scrollHeight < document.documentElement.clientHeight && ($(".footer-hospitial-name").attr("style", "position:absolute;bottom:18px;"), $(".footer3").attr("style", "position:absolute;bottom:0px;"))
    }), $(window).click()
}

function showTitleNoCopy() {
    "undefined" != typeof AlipayJSBridge && AlipayJSBridge.call("showTitlebar")
}

function ajaxToPrintPageLogs() {
    $.ajax({
        url: Util.getBasePath() + "/pageStatisticsLogs!printPageOperatLogs.do",
        data: $("#pageOperatingLogsForm").serialize(),
        type: "post",
        cache: !1,
        dataType: "json",
        success: function(t) {},
        error: function() {}
    })
}

function toggle(t) {
    if (document.getElementById) {
        var e = document.getElementById(t);
        "block" == e.style.display ? e.style.display = "none" : e.style.display = "block"
    }
}
var _createClass = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n), i && t(e, i), e
        }
    }(),
    AjaxApi = function() {
        function t(e) {
            var n = this;
            _classCallCheck(this, t), this.options = {
                retryMethod: "",
                method: "get",
                rootDiv: $("#ajaxData"),
                resultDesc: "系统异常，请稍后再试",
                ajaxUrl: "",
                ajaxData: {},
                loadingText: "加载中...",
                successCb: function(t) {},
                failCb: function(t) {
                    n._defaultFailCb(t)
                },
                errorCb: function() {
                    n._defaultErrorCb()
                }
            }, Object.assign(this.options, e)
        }
        return _createClass(t, [{
            key: "_defaultFailCb",
            value: function(t) {
                if ("get" === this.options.method) {
                    var e = '<a href="javascript:;" onclick="' + this.options.retryMethod + '" class="c359de4">重试</a>';
                    Util.checkNull(this.options.retryMethod) && (e = ""), this.options.rootDiv.html('<div class="kd-loading-wrap">\n\t\t\t<p class="f14">' + t.resultDesc + " " + e + "</p>\n\t\t\t</div>\n\t\t\t")
                } else ui.showTip(t.resultDesc, 3e3)
            }
        }, {
            key: "_defaultErrorCb",
            value: function() {
                var t = {
                    resultDesc: this.options.resultDesc
                };
                this._defaultFailCb(t)
            }
        }, {
            key: "defaultNullDataCbForPage",
            value: function(t) {
                this.options.rootDiv.html('<div class="kd-loading-wrap">\n\t\t\t<p class="f14">' + t + "</p>\n\t\t\t</div>\n\t\t")
            }
        }, {
            key: "defaultNullDataCbForAllPage",
            value: function(t) {
                this.options.rootDiv.html('<div>\n\t\t\t<p class="kd-emptydata"></p>\n\t\t\t<p class="kd-emptydata-title">左翻右翻</p>\n\t\t\t<p class="kd-emptydata-text">' + t + "</p>\n\t\t\t</div>\n\t\t")
            }
        }, {
            key: "setInputValue",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "dataForm",
                    e = arguments[1],
                    n = arguments[2];
                $("#" + t + " input[name='" + e + "']").val(n)
            }
        }, {
            key: "getInputValue",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "dataForm",
                    e = arguments[1];
                return $("#" + t + " input[name='" + e + "']").val()
            }
        }, {
            key: "run",
            value: function() {
                var t = this;
                Util.checkNull(this.options.ajaxUrl) || this.options.rootDiv.length < 1 || ("post" === this.options.method ? showLoading(this.options.loadingText) : this.options.rootDiv.html('<div class="kd-loading-wrap">\n\t\t\t<i class=\'kd-loading\'></i>\n\t\t\t<p class="f14">加载中...</p>\n\t\t</div>\n\t\t\t'), $.ajax({
                    type: this.options.method,
                    url: this.options.ajaxUrl,
                    data: this.options.ajaxData,
                    dataType: "json",
                    success: function(e) {
                        "post" === t.options.method && hideLoading(), "0" === e.resultCode ? t.options.successCb(e) : t.options.failCb(e)
                    },
                    error: function() {
                        "post" === t.options.method && hideLoading(), t.options.errorCb()
                    }
                }))
            }
        }]), t
    }();
$(function() {
    function t() {
        WeixinJSBridge.call("hideOptionMenu")
    }
    "undefined" == typeof WeixinJSBridge ? document.addEventListener ? document.addEventListener("WeixinJSBridgeReady", t, !1) : document.attachEvent && (document.attachEvent("WeixinJSBridgeReady", t), document.attachEvent("onWeixinJSBridgeReady", t)) : t()
}), document.addEventListener("touchmove", function(t) {
    t.preventDefault()
}, !1), $.fn.serializeObject = function() {
    var t = {},
        e = this.serializeArray();
    return $.each(e, function() {
        void 0 !== t[this.name] ? (t[this.name].push || (t[this.name] = [t[this.name]]), t[this.name].push(this.value || "")) : t[this.name] = this.value || ""
    }), t
};
var photo_swipe = function() {
        function t() {
            $(".pswp__bottom-bar").on("touchstart", function() {
                $(this).addClass("pswp__bottom-bar-active")
            }), $(".pswp__bottom-bar").on("touchend", function() {
                $(this).removeClass("pswp__bottom-bar-active"), actionsheet.init({
                    title: "是否删除该张图片？",
                    buttons: ["确认删除"],
                    cancelTitle: "返回",
                    callback: function(t) {
                        ui.showTip("删除成功", 1e3);
                        var e = l.getCurrentIndex(),
                            n = l.options.getNumItemsFn();
                        e + 1 === n && l.prev(), l.items.splice(e, 1), l.invalidateCurrItems(), l.updateSize(!0), 1 === n && l.close(), i.onDelete.call(this, e)
                    }
                }), actionsheet.show()
            })
        }

        function e(t) {
            "undefined" != typeof PhotoSwipe && "undefined" != typeof PhotoSwipeUI_Default ? n(t, PhotoSwipe, PhotoSwipeUI_Default) : (require.config({
                baseUrl: Util.getBasePath() + "/js/photoswipe",
                paths: {
                    PhotoSwipe: "photoswipe.min",
                    PhotoSwipeUI_Default: "photoswipe-ui-default.min"
                }
            }), require(["PhotoSwipe", "PhotoSwipeUI_Default"], function(e, i) {
                n(t, e, i)
            }))
        }

        function n(t, e, n) {
            hideLoading();
            var r = Object.assign(i, {
                index: t
            });
            return l = new e(a, n, o, r), l.listen("gettingData", function(t, e) {
                if (e.w < 1 || e.h < 1) {
                    var n = new Image;
                    n.src = e.src, n.onload = function() {
                        e.w = this.width, e.h = this.height, l.invalidateCurrItems(), l.updateSize(!0)
                    }
                }
            }), l.init(), l
        }
        var i = {
                history: !1,
                focus: !1,
                loop: !1,
                tapToToggleControls: !1,
                closeOnVerticalDrag: !1,
                showAnimationDuration: 0,
                hideAnimationDuration: 0,
                loadingIndicatorDelay: 0,
                tapToClose: !0,
                closeEl: !1,
                deleteEl: !1,
                errorMsg: '<div class="pswp__error-msg">图片加载失败</div>',
                onDelete: function(t) {}
            },
            o = [],
            a = void 0,
            l = void 0;
        return {
            init: function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                o = [], i = Object.assign(i, n), a = document.querySelectorAll(".pswp")[0];
                for (var l = 0; l < e.length; l++) {
                    var r = {
                        src: e[l].src,
                        w: e[l].w || 0,
                        h: e[l].h || 0
                    };
                    o.push(r)
                }
                return i.deleteEl && $(".pswp__bottom-bar").removeClass("hide"), t(), this
            },
            openPhotoSwipe: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                showLoading(), "undefined" != typeof require ? e(t) : $.getScript(Util.getBasePath() + "/js/require/require.js", function() {
                    e(t)
                })
            }
        }
    }(),
    photo_upload = function() {
        function t(t) {
            var e = $(r.imageWarp).find("li")[t],
                n = $(e).data("picurl");
            e.remove(), ($(r.imageWarp).find("li").length < r.limitNum || -1 !== r.limitNum) && $(r.fileInputWarp).show(), $.ajax({
                type: "post",
                url: r.deleteUrl,
                data: {
                    imgUrl: n
                },
                dataType: "json",
                success: function(t) {
                    t.resultCode
                },
                error: function(t) {}
            }), r.afterDefaultDeleteComplete(null, t)
        }

        function e(t) {
            ui.showTip("图片上传失败，请稍后再试", 2e3), setTimeout(function() {
                $("li#" + t).remove()
            }, 1e3)
        }

        function n(t, e) {
            $("li#" + t).data("newupload", "1"), $("li#" + t).data("picurl", e), $("li#" + t).removeClass("kdui-uploader__file_status"), $("li#" + t + " div.kd-loading-wrap").remove(), $("li#" + t).on("click", function() {
                var t = [];
                $(r.imageWarp).find("li").each(function() {
                    var e = "1" === $(this).data("newupload") ? $(this).css("backgroundImage").replace('url("', "").replace('")', "").replace("url(", "").replace(")", "") : $(this).data("picurl"),
                        n = {
                            src: e
                        };
                    Object.assign(n, {
                        w: $(this).data("imagew"),
                        h: $(this).data("imageh")
                    }), t.push(n)
                });
                var e = {
                    deleteEl: !0,
                    onDelete: function(t) {
                        r.afterDeleteComplete.call(null, t)
                    }
                };
                photo_swipe.init(t, e).openPhotoSwipe($(r.imageWarp).find("li").index(this))
            }), r.afterDefaultComplete.call(null, t)
        }

        function i(t, e) {
            var n = new Image;
            n.src = t, n.onload = function() {
                $(r.imageWarp).append('\n        <li data-imageh="' + n.height + '" data-imagew="' + n.width + '" id=' + e + ' class="ml0 kdui-uploader__file kdui-uploader__file_status ' + ("small" === r.fileInputWidthMode ? "kdui-uploader_small" : "") + '" style="background-image:url(' + t + ')">\n                  <div class="kdui-uploader__file-content kd-loading-wrap">\n            <i class=\'kd-loading\'></i>\n          </div>\n              </li>\n      '), $(r.imageWarp).find("li").length >= r.limitNum && -1 !== r.limitNum && $(r.fileInputWarp).hide(), myScroll && myScroll.refresh(), r.beforeDefaultComplete.call(null, e)
            }
        }

        function o(t) {
            showLoading(), "undefined" != typeof require ? a.call(this, t) : $.getScript(Util.getBasePath() + "/js/require/require.js", function() {
                a.call(this, t)
            })
        }

        function a(t) {
            "undefined" != typeof lrz ? l.call(this, t) : (require.config({
                baseUrl: Util.getBasePath() + "/js/lrz",
                paths: {
                    lrz: "lrz.min"
                }
            }), require(["lrz"], function(e) {
                l.call(this, t)
            }))
        }

        function l(t) {
            var e = {},
                n = r.isCompress ? r.compressRatio : 1;
            if (Object.assign(e, {
                    quality: n,
                    width: 1024
                }), 0 === t.files.length) return void hideLoading();
            lrz(t.files[0], e).then(function(t) {
                if (hideLoading(), t.origin.size / 1024 / 1024 > r.limitSize && -1 !== r.limitSize) return void ui.showTip("上传的图片不能超过" + r.limitSize + "M", 2e3);
                var e = Math.random().toString().split(".")[1];
                return r.beforeComplete.call(null, t.base64, e), Object.assign(t, _defineProperty({
                    index: e
                }, "index", e)), t
            }).then(function(t) {
                $.ajax({
                    type: "post",
                    url: r.uploaderUrl,
                    data: {
                        photo: t.base64
                    },
                    dataType: "json",
                    cache: !1,
                    success: function(e) {
                        if (0 == e.resultCode) {
                            var n = "";
                            try {
                                n = e.data.filePath
                            } catch (t) {}
                            r.afterComplete.call(null, t.index, n)
                        } else r.uploadError.call(null, t.index)
                    },
                    error: function() {
                        r.uploadError.call(null, t.index)
                    }
                })
            }).catch(function(t) {
                ui.showLoading("系统异常，请稍后再试", 2e3)
            }).always(function() {
                hideLoading()
            })
        }
        var r = {},
            u = {
                imageWarp: "#kdui-uploader__warp",
                fileInputWarp: "#uploadInputWarp",
                fileInput: "#uploadInput",
                fileInputWidthMode: "noraml",
                uploaderUrl: "",
                deleteUrl: "",
                limitSize: 10,
                limitNum: 5,
                isCompress: !0,
                compressRatio: .7,
                beforeComplete: function(t, e) {
                    i.call(null, t, e)
                },
                beforeDefaultComplete: function(t) {},
                afterComplete: function(t, e) {
                    n.call(null, t, e)
                },
                afterDefaultComplete: function(t) {},
                afterDeleteComplete: function(e) {
                    t.call(null, e)
                },
                afterDefaultDeleteComplete: function(t) {},
                uploadError: function(t) {
                    e.call(null, t)
                }
            };
        return {
            init: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                r = Object.assign(u, t), "small" === r.fileInputWidthMode && $(r.fileInputWarp).addClass("kdui-uploader_small"), $(r.fileInput).on("change", function() {
                    o.call(null, this)
                })
            },
            defaultBuildImgsData: function(t, e, n) {
                return "\n        <li id=" + t + " data-picurl=" + n + ' class="ml0 kdui-uploader__file ' + ("small" === r.fileInputWidthMode ? "kdui-uploader_small" : "") + '" style="background-image:url(' + e + ')">\n        </li>\n      '
            },
            deleteImg: function(t) {
                r.afterDeleteComplete.call(null, t)
            },
            defaultBindAllPicClick: function() {
                $(r.imageWarp).find("li").each(function(t) {
                    $(this).on("click", function() {
                        var e = [];
                        $(r.imageWarp).find("li").each(function() {
                            var t = "1" === $(this).data("newupload") ? $(this).css("backgroundImage").replace('url("', "").replace('")', "").replace("url(", "").replace(")", "") : $(this).data("picurl"),
                                n = {
                                    src: t
                                };
                            e.push(n)
                        });
                        var n = {
                            deleteEl: !0,
                            onDelete: function(t) {
                                photo_upload.deleteImg(t)
                            }
                        };
                        photo_swipe.init(e, n).openPhotoSwipe(t)
                    })
                })
            }
        }
    }(),
    ui = function() {
        var t;
        return t = {
            showTip: function(t, e, n) {
                var i = document.querySelector(".fast_note");
                Util.checkNull(t) || (i.style.top = t + "px"), i.innerText = e, i.style.display = "block", Util.checkNull(n) || setTimeout(function() {
                    ui.hideTip()
                }, n)
            }
        }, _defineProperty(t, "showTip", function(t, e) {
            var n = document.querySelector(".fast_note");
            n.innerText = t, n.style.display = "block", Util.checkNull(e) || setTimeout(function() {
                ui.hideTip()
            }, e)
        }), _defineProperty(t, "hideTip", function() {
            document.querySelector(".fast_note").style.display = "none"
        }), _defineProperty(t, "setTabStatus", function(t) {
            $(".kd-tab-nav>li").each(function() {
                var e = $(this);
                t == e.data("current") && e.addClass("current")
            })
        }), _defineProperty(t, "tabSelect", function(t) {
            $(".kd-tab-nav>li").click(function() {
                var e = $(this);
                e.hasClass("current") || ($(".kd-tab-nav>li").removeClass("current"), e.addClass("current"), t.call(this))
            })
        }), t
    }(),
    actionsheet = function() {
        function t() {
            r.addClass("show")
        }

        function e() {
            r.removeClass("show")
        }

        function n() {
            r.find(".actionsheet-btn").remove(), r.click(e)
        }

        function i(t) {
            $(".kd-actionsheet-cnt>h4").html(t.title), l.html(t.cancelTitle)
        }

        function o(t) {
            for (var e = 0; e < t.length; e++) {
                var n = $("<button/>"),
                    i = t[e];
                n.text(i), n.addClass("actionsheet-btn"), l.before(n)
            }
        }

        function a(t) {
            var e = $(".kd-actionsheet").find(".actionsheet-btn");
            e.unbind("click"), e.on("click", function() {
                this.index = e.index($(this)), t.call(this)
            })
        }
        var l, r, u = {
            title: "温馨提示",
            buttons: ["确认"],
            cancelTitle: "取消",
            callback: function() {}
        };
        return {
            init: function(t) {
                return l = $("#cancleBtn"), r = $(".kd-actionsheet"), t = $.extend({}, u, t), n(), o(t.buttons), a(t.callback), i(t), this
            },
            show: function() {
                t()
            },
            hide: function() {
                e()
            },
            bindEvent: function(t) {
                return a(t), this
            }
        }
    }(),
    popup = function() {
        function t() {
            s.show()
        }

        function e() {
            s.hide()
        }

        function n(t) {
            r.html(t.title), a.html(t.cancelTitle), l.html(t.confirmTile), u.on("click", function() {
                e()
            })
        }

        function i(t) {
            l.unbind("click"), l.on("click", function(e) {
                t.call(this, e)
            })
        }

        function o(t, e) {
            $(t).unbind("click"), $(t).on("click", function(t) {
                e.call(this, t)
            })
        }
        var a, l, r, u, s;
        return {
            init: function(t) {
                return s = $("#kd_pop_up"), a = $("#cancelBtn"), l = $("#confirmBtn"), r = $("#kd_pop_up_top"), u = $("#kd_pop_up_bottom"), n(t), i(t.callback), t.callback_cancle && o(a, t.callback_cancle), this
            },
            show: function() {
                t()
            },
            hide: function() {
                e()
            },
            bindEvent: function(t) {
                return i(t), this
            },
            appendContent: function(t) {
                $("#kd_pop_up_center").html(t)
            },
            setPopupBottomMT: function(t) {
                $("#kd_pop_up_bottom").css("margin-top", t)
            }
        }
    }(),
    popup2 = function() {
        function t() {
            u.show()
        }

        function e() {
            u.hide()
        }

        function n(t) {
            l.html(t.title), $cancleBtn.html(t.cancelTitle), a.html(t.confirmTile), r.on("click", function() {
                s.isClose && e()
            })
        }

        function i(t) {
            a.unbind("click"), a.on("click", function() {
                t.call()
            })
        }

        function i(t, e) {
            a.unbind("click"), a.on("click", function(n) {
                e || n.stopPropagation(), t.call()
            })
        }
        var o, a, l, r, u, s = {
            title: "温馨提示",
            confirmTile: "确认",
            cancelTitle: "取消",
            callback: function() {},
            isClose: !0
        };
        return o = {
            init: function(t) {
                return u = $("#kd_pop_up2"), $cancleBtn = $("#cancelBtn2"), a = $("#confirmBtn2"), l = $("#kd_pop_up_top2"), r = $("#kd_pop_up_bottom2"), t = $.extend({}, s, t), n(t), i(t.callback), this
            },
            show: function() {
                t()
            },
            hide: function() {
                e()
            },
            bindEvent: function(t) {
                return i(t), this
            }
        }, _defineProperty(o, "bindEvent", function(t, e) {
            return i(t, e), this
        }), _defineProperty(o, "appendContent", function(t) {
            $("#kd_pop_up_center2").html(t)
        }), _defineProperty(o, "setPopupBottomMT", function(t) {
            $("#kd_pop_up_bottom2").css("margin-top", t)
        }), o
    }(),
    popup_infomation = function() {
        function t() {
            l.show()
        }

        function e() {
            l.hide()
        }

        function n(t) {
            o.html(t.title), i.html(t.closeTile), a.on("click", function() {
                e()
            })
        }
        var i, o, a, l;
        return {
            init: function(t) {
                return l = $("#kd_pop_up_information"), i = $("#kd_pop_up_information_bottom_close"), o = $("#kd_pop_up_information_top"), a = $("#kd_pop_up_information_bottom"), n(t), this
            },
            show: function() {
                t()
            },
            hide: function() {
                e()
            },
            appendContent: function(t) {
                $("#kd_pop_up_information_center").html(t)
            },
            setPopupBottomMT: function(t) {
                $("#kd_pop_up_information_bottom").css("margin-top", t)
            },
            setPopupContentHeight: function(t) {
                $("#wrapper_information").css("height", t)
            },
            setPopupContentCss: function(t) {
                $(".kd_pop_up_content").css(t)
            }
        }
    }(),
    iscroll_loadding = function() {
        function t(t, e) {
            var n = e.showStatusId;
            switch (n.prev().hide(), t) {
                case "loadding":
                    n.html(e.loadding), n.prev().show(), n.parent().show();
                    break;
                case "loaded":
                    n.parent().hide();
                    break;
                case "last":
                    n.html(e.last).parent().show();
                    break;
                case "failed":
                    n.html(e.failed).parent().show()
            }
        }

        function e(e) {
            t("loadding", e), $.ajax({
                url: e.ajaxurl,
                data: $("#queryPageForm").serialize(),
                dataType: "json",
                method: "post",
                success: function(i) {
                    if (t("loaded", e), "0" == i.resultCode) {
                        var o = i.datas,
                            a = $("#queryPageForm input[name='pageIndex']"),
                            l = $("#queryPageForm input[name='pageSize']");
                        a.val(parseInt(a.val()) + 1), (null == o || 0 == o.length || o.length < l.val()) && (t("last", e), $("#queryPageForm").data("hasnaxtpage", 0)), e.callback(o)
                    } else t("failed", e);
                    n && n.refresh()
                },
                error: function() {
                    t("failed", e), n && n.refresh()
                }
            })
        }
        var n, i = {
                loadding: "加载中...",
                last: "已全部加载",
                failed: "加载失败，请稍后再试",
                showStatusId: $("#loadding_status"),
                ajaxurl: "",
                callback: function(t) {}
            },
            o = {};
        return {
            initScrollLoadding: function(t) {
                o = $.extend({}, i, t);
                var a = setInterval(function() {
                    myScroll && (n = myScroll, n.off("scrollEnd"), n.on("scrollEnd", function() {
                        if (this.y - 15 < this.maxScrollY) {
                            "1" == $("#queryPageForm").data("hasnaxtpage") && e(o)
                        }
                    }), clearInterval(a))
                }, 100);
                return this
            }
        }
    }(),
    Util = function() {
        return {
            getBasePath: function() {
                var t = (window.location + "").split("/");
                return t[0] + "//" + t[2] + "/" + t[3]
            },
            allTrim: function(t) {
                for (var e = /\s/; e.test(t);) t = t.replace(e, "");
                return t
            },
            checkNull: function(t) {
                if (null == t) return !0;
                var e = Util.allTrim(t);
                return 0 == e.length || "" == e
            },
            verifyPhoneNum: function(t) {
                return !!/^1[3|4|5|7|8][0-9]\d{8}$/.test(Util.allTrim(t))
            },
            verifyIdCard: function(t) {
                if (t = t.toUpperCase(), t = Util.allTrim(t), !/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(t)) return !1;
                var e, n;
                if (15 == (e = t.length)) {
                    n = new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/);
                    var i = t.match(n),
                        o = new Date("19" + i[2] + "/" + i[3] + "/" + i[4]);
                    if (o.getYear() == Number(i[2]) && o.getMonth() + 1 == Number(i[3]) && o.getDate() == Number(i[4])) {
                        var a, l = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2),
                            r = new Array("1", "0", "X", "9", "8", "7", "6", "5", "4", "3", "2"),
                            u = 0;
                        for (t = t.substr(0, 6) + "19" + t.substr(6, t.length - 6), a = 0; a < 17; a++) u += t.substr(a, 1) * l[a];
                        return t += r[u % 11], !0
                    }
                    return !1
                }
                if (18 == e) {
                    n = new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/);
                    var i = t.match(n),
                        o = new Date(i[2] + "/" + i[3] + "/" + i[4]);
                    if (o.getFullYear() == Number(i[2]) && o.getMonth() + 1 == Number(i[3]) && o.getDate() == Number(i[4])) {
                        var a, l = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2),
                            r = new Array("1", "0", "X", "9", "8", "7", "6", "5", "4", "3", "2"),
                            u = 0;
                        for (a = 0; a < 17; a++) u += t.substr(a, 1) * l[a];
                        return r[u % 11] == t.substr(17, 1)
                    }
                    return !1
                }
                return !1
            },
            getCurrentDate: function(t) {
                var e = new Date,
                    n = e.getMonth() + 1,
                    i = e.getDate();
                n < 10 && (n = "0" + n), i < 10 && (i = "0" + i);
                var o = "";
                return "yyyy-mm-dd" == t ? o = e.getFullYear() + "-" + n + "-" + i : "yyyy-mm-dd hh:mm:ss" == t && (o = e.getFullYear() + "-" + n + "-" + i + " " + e.getHours() + ":" + e.getMinutes() + ":" + e.getSeconds()), o
            },
            getCurrentTime: function() {
                var t = new Date,
                    e = t.getMonth() + 1,
                    n = t.getDate();
                return e < 10 && (e = "0" + e), n < 10 && (n = "0" + n), t.getFullYear() + "-" + e + "-" + n + " " + t.getHours() + ":" + t.getMinutes() + ":" + t.getSeconds()
            },
            compareDate: function(t, e) {
                var n = t.split("-"),
                    i = new Date(n[0], n[1], n[2]),
                    o = i.getTime(),
                    a = e.split("-");
                return !(o > new Date(a[0], a[1], a[2]).getTime())
            },
            diffDate: function(t, e) {
                var n = t.split("-"),
                    i = new Date(n[0], 1 * n[1] - 1, n[2]),
                    o = i.getTime(),
                    a = e.split("-"),
                    l = new Date(a[0], 1 * a[1] - 1, a[2]),
                    r = l.getTime(),
                    u = r - o;
                return parseInt(u / 864e5)
            },
            formatDate: function(t) {
                return t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate()
            },
            AddDate: function(t, e, n) {
                var i = new Date(n);
                switch (isNaN(i) && (i = new Date), t) {
                    case "s":
                        return new Date(Date.parse(i) + 1e3 * e);
                    case "n":
                        return new Date(Date.parse(i) + 6e4 * e);
                    case "h":
                        return new Date(Date.parse(i) + 36e5 * e);
                    case "d":
                        return new Date(Date.parse(i) + 864e5 * e);
                    case "w":
                        return new Date(Date.parse(i) + 6048e5 * e);
                    case "m":
                        return new Date(i.getFullYear(), i.getMonth() + e, i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds());
                    case "y":
                        return new Date(i.getFullYear() + e, i.getMonth(), i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds())
                }
            },
            getDisSecond: function(t, e) {
                var n = t.split(" "),
                    i = n[0].split("-"),
                    o = n[1].split(":"),
                    t = new Date(i[0], 1 * i[1] - 1, i[2], o[0], o[1], o[2]),
                    a = t.getTime();
                return n = e.split(" "), i = n[0].split("-"), o = n[1].split(":"), new Date(i[0], 1 * i[1] - 1, i[2], o[0], o[1], o[2]).getTime() / 1e3 - a / 1e3
            },
            secondToHour: function(t) {
                var e = new Object;
                e.day = "", e.hour = "00", e.min = "00", e.sec = "00";
                var n;
                if (t > -1) {
                    var i = Math.floor(t / 3600),
                        o = Math.floor(t / 60) % 60,
                        a = t % 60,
                        l = parseInt(i / 24);
                    l > 0 ? (i -= 24 * l, n = l + "天 " + i + "时", e.day = l, e.hour = i) : (i > 0 && (i < 10 && (n += "0"), n = i + "时"), e.hour = i), o < 10 && (o = "0" + o), a < 10 && (a = "0" + a), e.min = o, e.sec = a
                }
                return e
            },
            getLastMonth: function(t, e) {
                var t = new Date(t),
                    n = new Array([0], [31], [28], [31], [30], [31], [30], [31], [31], [30], [31], [30], [31]),
                    i = t.getFullYear(),
                    o = t.getDate(),
                    a = t.getMonth() + 1;
                return i % 4 == 0 && i % 100 != 0 && (n[2] = 29), a - e <= 0 ? (i -= 1, a = 12 - e + a) : a -= e, o = n[a] >= o ? o : n[a], a < 10 && (a = "0" + a), o < 10 && (o = "0" + o), i + "-" + a + "-" + o
            },
            isIos: function() {
                var t = navigator.userAgent;
                return t.match(/(iPad).*OS\s([\d_]+)/) || t.match(/(iPod)(.*OS\s([\d_]+))?/) || t.match(/(iPhone\sOS)\s([\d_]+)/)
            }
        }
    }();
! function() {
    Date.prototype.Format = function(t) {
        var e = {
            "M+": this.getMonth() + 1,
            "d+": this.getDate(),
            "h+": this.getHours(),
            "m+": this.getMinutes(),
            "s+": this.getSeconds(),
            "q+": Math.floor((this.getMonth() + 3) / 3),
            S: this.getMilliseconds()
        };
        /(y+)/.test(t) && (t = t.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)));
        for (var n in e) new RegExp("(" + n + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[n] : ("00" + e[n]).substr(("" + e[n]).length)));
        return t
    }
}();
//# sourceMappingURL=common.min.js.map